\hypertarget{group__HTTP}{
\section{API for HTTP object manipulation}
\label{group__HTTP}\index{API for HTTP object manipulation@{API for HTTP object manipulation}}
}


Macros, functions and structures used for manipulating the encupsulated HTTP objects (HTTP requests or HTTP responses).  
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__HEADERS_gaaa203ac92dd0242ab66f4237548d7260}{ci\_\-headers\_\-list\_\-t} $\ast$ \hyperlink{group__HTTP_ga4572d0ede7cad4215c9fc2cb3a629b56}{ci\_\-http\_\-response\_\-headers} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Returns the HTTP response headers. \item\end{DoxyCompactList}\item 
\hyperlink{group__HEADERS_gaaa203ac92dd0242ab66f4237548d7260}{ci\_\-headers\_\-list\_\-t} $\ast$ \hyperlink{group__HTTP_ga540aa605e981d0b57f940bea6e37c40b}{ci\_\-http\_\-request\_\-headers} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Returns the HTTP request headers. \item\end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{group__HTTP_ga9e70a82a932d48d33da3e9e8487c0d6b}{ci\_\-http\_\-response\_\-add\_\-header} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, const char $\ast$header)
\begin{DoxyCompactList}\small\item\em Add a custom header to the HTTP response headers. \item\end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{group__HTTP_ga2771dada488942b12bcc60ae1ea35574}{ci\_\-http\_\-request\_\-add\_\-header} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, const char $\ast$header)
\begin{DoxyCompactList}\small\item\em Add a custom header to the HTTP request headers. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_gaba2bdcc434b345bf0488673e24c0e01c}{ci\_\-http\_\-response\_\-remove\_\-header} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, const char $\ast$header)
\begin{DoxyCompactList}\small\item\em Remove a header from the HTTP response headers. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_ga7ec5f6a8150e6caa316521b60c6511ef}{ci\_\-http\_\-request\_\-remove\_\-header} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, const char $\ast$header)
\begin{DoxyCompactList}\small\item\em Remove a header from the HTTP request headers. \item\end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{group__HTTP_ga250fece2ce100062dc38b24e540cf597}{ci\_\-http\_\-response\_\-get\_\-header} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, const char $\ast$head\_\-name)
\begin{DoxyCompactList}\small\item\em Get the value of the requested header from the HTTP response headers. \item\end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{group__HTTP_gaff9411231824ac06df9edfe1e36e5ba2}{ci\_\-http\_\-request\_\-get\_\-header} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, const char $\ast$head\_\-name)
\begin{DoxyCompactList}\small\item\em Get the value of the requested header from the HTTP request headers. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_ga2b27cdeba155520463363bf341182dc7}{ci\_\-http\_\-response\_\-reset\_\-headers} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Completelly erase and initialize the HTTP response headers. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_ga22c5b174646f510f0c8d8fbb5c112ef2}{ci\_\-http\_\-request\_\-reset\_\-headers} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Completelly erase and initialize the HTTP request headers. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_gaad9f358ca7cd20aeca59b954b0d69a02}{ci\_\-http\_\-response\_\-create} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, int has\_\-reshdr, int has\_\-body)
\begin{DoxyCompactList}\small\item\em Creates a new HTTP response. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_ga7c44c88b00ba822fdeffa9bef6a83adf}{ci\_\-http\_\-request\_\-create} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, int has\_\-body)
\begin{DoxyCompactList}\small\item\em Creates a new HTTP request. \item\end{DoxyCompactList}\item 
ci\_\-off\_\-t \hyperlink{group__HTTP_gad381fe7908af08f1543c858d24cfbfdf}{ci\_\-http\_\-content\_\-length} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Returns the value of the Content-\/Length header of the HTTP response or HTTP request for a response modification or request modification ICAP requests respectively. \item\end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{group__HTTP_ga44e273b39d82a7c8f13f70586760b130}{ci\_\-http\_\-request} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Returns the request line (e.g \char`\"{}GET /index.html HTTP 1.0\char`\"{}) from http request headers. \item\end{DoxyCompactList}\item 
int \hyperlink{group__HTTP_gac1081e7bbfaa5ac736621a0a17cd703c}{ci\_\-http\_\-request\_\-url} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req, char $\ast$buf, int buf\_\-size)
\begin{DoxyCompactList}\small\item\em Returns the URL (e.g \char`\"{}http://www.chtsanti.net\char`\"{}) from http request. \item\end{DoxyCompactList}\item 
const ci\_\-ip\_\-t $\ast$ \hyperlink{group__HTTP_ga12509ca0255deacf0f8446bdd2f42495}{ci\_\-http\_\-client\_\-ip} (\hyperlink{group__REQUEST_ga27da5c4ae491f527ce36901c2e78ea04}{ci\_\-request\_\-t} $\ast$req)
\begin{DoxyCompactList}\small\item\em Return the http client ip address if this information is available. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Macros, functions and structures used for manipulating the encupsulated HTTP objects (HTTP requests or HTTP responses). 

\subsection{Function Documentation}
\hypertarget{group__HTTP_ga12509ca0255deacf0f8446bdd2f42495}{
\index{HTTP@{HTTP}!ci\_\-http\_\-client\_\-ip@{ci\_\-http\_\-client\_\-ip}}
\index{ci\_\-http\_\-client\_\-ip@{ci\_\-http\_\-client\_\-ip}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-client\_\-ip}]{\setlength{\rightskip}{0pt plus 5cm}const ci\_\-ip\_\-t$\ast$ ci\_\-http\_\-client\_\-ip ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_ga12509ca0255deacf0f8446bdd2f42495}


Return the http client ip address if this information is available. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
A const pointer to a ci\_\-ip\_\-t object contain the client ip address or NULL 
\end{DoxyReturn}
\hypertarget{group__HTTP_gad381fe7908af08f1543c858d24cfbfdf}{
\index{HTTP@{HTTP}!ci\_\-http\_\-content\_\-length@{ci\_\-http\_\-content\_\-length}}
\index{ci\_\-http\_\-content\_\-length@{ci\_\-http\_\-content\_\-length}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-content\_\-length}]{\setlength{\rightskip}{0pt plus 5cm}ci\_\-off\_\-t ci\_\-http\_\-content\_\-length ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_gad381fe7908af08f1543c858d24cfbfdf}


Returns the value of the Content-\/Length header of the HTTP response or HTTP request for a response modification or request modification ICAP requests respectively. If the header Content-\/Length is not included in HTTP response It can be used with both request and response modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The content length on success or a negative number otherwise 
\end{DoxyReturn}
\begin{Desc}
\item[Examples: ]\par
\hyperlink{services_2echo_2srv__echo_8c-example}{services/echo/srv\_\-echo.c}.\end{Desc}
\hypertarget{group__HTTP_ga44e273b39d82a7c8f13f70586760b130}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request@{ci\_\-http\_\-request}}
\index{ci\_\-http\_\-request@{ci\_\-http\_\-request}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ci\_\-http\_\-request ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_ga44e273b39d82a7c8f13f70586760b130}


Returns the request line (e.g \char`\"{}GET /index.html HTTP 1.0\char`\"{}) from http request headers. It can be used with both request and response modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The request line in success or NULL otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga2771dada488942b12bcc60ae1ea35574}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-add\_\-header@{ci\_\-http\_\-request\_\-add\_\-header}}
\index{ci\_\-http\_\-request\_\-add\_\-header@{ci\_\-http\_\-request\_\-add\_\-header}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-add\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ci\_\-http\_\-request\_\-add\_\-header ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  const char $\ast$ {\em header})}}
\label{group__HTTP_ga2771dada488942b12bcc60ae1ea35574}


Add a custom header to the HTTP request headers. This function can used to add custom headers to the HTTP request and can be used only for request modification ICAP requests 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em header}]is a string contains the header in the form \char`\"{}Header: value\char`\"{} \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the header or NULL if fails. 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga7c44c88b00ba822fdeffa9bef6a83adf}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-create@{ci\_\-http\_\-request\_\-create}}
\index{ci\_\-http\_\-request\_\-create@{ci\_\-http\_\-request\_\-create}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-request\_\-create ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  int {\em has\_\-body})}}
\label{group__HTTP_ga7c44c88b00ba822fdeffa9bef6a83adf}


Creates a new HTTP request. This function is usefull to develop icap clients 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em has\_\-body}]if it is non zero the HTTP request contains HTTP body data \end{DoxyParams}
\begin{DoxyReturn}{Returns}
non zero on success zero otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_gaff9411231824ac06df9edfe1e36e5ba2}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-get\_\-header@{ci\_\-http\_\-request\_\-get\_\-header}}
\index{ci\_\-http\_\-request\_\-get\_\-header@{ci\_\-http\_\-request\_\-get\_\-header}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-get\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ci\_\-http\_\-request\_\-get\_\-header ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  const char $\ast$ {\em head\_\-name})}}
\label{group__HTTP_gaff9411231824ac06df9edfe1e36e5ba2}


Get the value of the requested header from the HTTP request headers. This function can used to get the value of a header from the HTTP request headers. It can be used on both request and response modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em head\_\-name}]is a string contains the header name \end{DoxyParams}
\begin{DoxyReturn}{Returns}
A string with the header value on success NULL otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga540aa605e981d0b57f940bea6e37c40b}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-headers@{ci\_\-http\_\-request\_\-headers}}
\index{ci\_\-http\_\-request\_\-headers@{ci\_\-http\_\-request\_\-headers}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ci\_\-headers\_\-list\_\-t}$\ast$ ci\_\-http\_\-request\_\-headers ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_ga540aa605e981d0b57f940bea6e37c40b}


Returns the HTTP request headers. This function can used for an responce or request modification ICAP request to get the HTTP request headers 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the HTTP request headers or NULL if fails. 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga7ec5f6a8150e6caa316521b60c6511ef}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-remove\_\-header@{ci\_\-http\_\-request\_\-remove\_\-header}}
\index{ci\_\-http\_\-request\_\-remove\_\-header@{ci\_\-http\_\-request\_\-remove\_\-header}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-remove\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-request\_\-remove\_\-header ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  const char $\ast$ {\em header})}}
\label{group__HTTP_ga7ec5f6a8150e6caa316521b60c6511ef}


Remove a header from the HTTP request headers. This function can used to remove a header from the HTTP request and can be used only for request modification ICAP requests 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em header}]is a string contains the header name \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Non zero if success or zero otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga22c5b174646f510f0c8d8fbb5c112ef2}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-reset\_\-headers@{ci\_\-http\_\-request\_\-reset\_\-headers}}
\index{ci\_\-http\_\-request\_\-reset\_\-headers@{ci\_\-http\_\-request\_\-reset\_\-headers}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-reset\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-request\_\-reset\_\-headers ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_ga22c5b174646f510f0c8d8fbb5c112ef2}


Completelly erase and initialize the HTTP request headers. This function is usefull when an HTTP request required should replaced by an other.After this function called, the HTTP request should filled with new HTTP headers, before send back to the ICAP client. It can be used to implement a HTTP redirector. It can be used with request modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
non zero on success zero otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_gac1081e7bbfaa5ac736621a0a17cd703c}{
\index{HTTP@{HTTP}!ci\_\-http\_\-request\_\-url@{ci\_\-http\_\-request\_\-url}}
\index{ci\_\-http\_\-request\_\-url@{ci\_\-http\_\-request\_\-url}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-request\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-request\_\-url ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  char $\ast$ {\em buf}, \/  int {\em buf\_\-size})}}
\label{group__HTTP_gac1081e7bbfaa5ac736621a0a17cd703c}


Returns the URL (e.g \char`\"{}http://www.chtsanti.net\char`\"{}) from http request. It can be used with both request and response modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em buf}]a buffer to store the url \item[{\em buf\_\-size}]the \char`\"{}buf\char`\"{} buffer size \end{DoxyParams}
\begin{DoxyReturn}{Returns}
The bytes written to the \char`\"{}buf\char`\"{} buffer 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga9e70a82a932d48d33da3e9e8487c0d6b}{
\index{HTTP@{HTTP}!ci\_\-http\_\-response\_\-add\_\-header@{ci\_\-http\_\-response\_\-add\_\-header}}
\index{ci\_\-http\_\-response\_\-add\_\-header@{ci\_\-http\_\-response\_\-add\_\-header}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-response\_\-add\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ci\_\-http\_\-response\_\-add\_\-header ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  const char $\ast$ {\em header})}}
\label{group__HTTP_ga9e70a82a932d48d33da3e9e8487c0d6b}


Add a custom header to the HTTP response headers. This function can used to add custom headers to the HTTP response and can be used only for response modification ICAP requests 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em header}]is a string contains the header in the form \char`\"{}Header: value\char`\"{} \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the header or NULL if fails. 
\end{DoxyReturn}
\hypertarget{group__HTTP_gaad9f358ca7cd20aeca59b954b0d69a02}{
\index{HTTP@{HTTP}!ci\_\-http\_\-response\_\-create@{ci\_\-http\_\-response\_\-create}}
\index{ci\_\-http\_\-response\_\-create@{ci\_\-http\_\-response\_\-create}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-response\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-response\_\-create ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  int {\em has\_\-reshdr}, \/  int {\em has\_\-body})}}
\label{group__HTTP_gaad9f358ca7cd20aeca59b954b0d69a02}


Creates a new HTTP response. This function is usefull when the service wants to respond with a self created message to a response or request modification ICAP request. It can be used with both request and response modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em has\_\-reshdr}]if it is non zero the HTTP response contrains HTTP headers (a non HTTP 0.9 response) \item[{\em has\_\-body}]if it is non zero the HTTP response contains HTTP body data \end{DoxyParams}
\begin{DoxyReturn}{Returns}
non zero on success zero otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga250fece2ce100062dc38b24e540cf597}{
\index{HTTP@{HTTP}!ci\_\-http\_\-response\_\-get\_\-header@{ci\_\-http\_\-response\_\-get\_\-header}}
\index{ci\_\-http\_\-response\_\-get\_\-header@{ci\_\-http\_\-response\_\-get\_\-header}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-response\_\-get\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ci\_\-http\_\-response\_\-get\_\-header ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  const char $\ast$ {\em head\_\-name})}}
\label{group__HTTP_ga250fece2ce100062dc38b24e540cf597}


Get the value of the requested header from the HTTP response headers. This function can used to get the value of a header from the HTTP response headers. It can be used only for response modification ICAP requests 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em head\_\-name}]is a string contains the header name \end{DoxyParams}
\begin{DoxyReturn}{Returns}
A string with the header value on success NULL otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga4572d0ede7cad4215c9fc2cb3a629b56}{
\index{HTTP@{HTTP}!ci\_\-http\_\-response\_\-headers@{ci\_\-http\_\-response\_\-headers}}
\index{ci\_\-http\_\-response\_\-headers@{ci\_\-http\_\-response\_\-headers}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-response\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ci\_\-headers\_\-list\_\-t}$\ast$ ci\_\-http\_\-response\_\-headers ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_ga4572d0ede7cad4215c9fc2cb3a629b56}


Returns the HTTP response headers. This function is only valid for an ICAP responce modification request. If the ICAP request is not responce modification ICAP request or there are not response headers (HTTP 0.9) the function returns NULL. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]A pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the HTTP response headers or NULL. 
\end{DoxyReturn}
\hypertarget{group__HTTP_gaba2bdcc434b345bf0488673e24c0e01c}{
\index{HTTP@{HTTP}!ci\_\-http\_\-response\_\-remove\_\-header@{ci\_\-http\_\-response\_\-remove\_\-header}}
\index{ci\_\-http\_\-response\_\-remove\_\-header@{ci\_\-http\_\-response\_\-remove\_\-header}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-response\_\-remove\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-response\_\-remove\_\-header ({\bf ci\_\-request\_\-t} $\ast$ {\em req}, \/  const char $\ast$ {\em header})}}
\label{group__HTTP_gaba2bdcc434b345bf0488673e24c0e01c}


Remove a header from the HTTP response headers. This function can used to remove a header from the HTTP response and can be used only for response modification ICAP requests 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \item[{\em header}]is a string contains the header name \end{DoxyParams}
\begin{DoxyReturn}{Returns}
Non zero if success or zero otherwise 
\end{DoxyReturn}
\hypertarget{group__HTTP_ga2b27cdeba155520463363bf341182dc7}{
\index{HTTP@{HTTP}!ci\_\-http\_\-response\_\-reset\_\-headers@{ci\_\-http\_\-response\_\-reset\_\-headers}}
\index{ci\_\-http\_\-response\_\-reset\_\-headers@{ci\_\-http\_\-response\_\-reset\_\-headers}!HTTP@{HTTP}}
\subsubsection[{ci\_\-http\_\-response\_\-reset\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}int ci\_\-http\_\-response\_\-reset\_\-headers ({\bf ci\_\-request\_\-t} $\ast$ {\em req})}}
\label{group__HTTP_ga2b27cdeba155520463363bf341182dc7}


Completelly erase and initialize the HTTP response headers. This function is usefull when the full rewrite of the HTTP response required. After this function called, the HTTP response should filled with new HTTP headers, before send back to the ICAP client. An example of usage of this function is in antivirus service when a virus detected in HTTP response, so the service blocks the response and sends a new HTTP object (a new html page, with HTTP headers) informing the user about the virus. It can be used with response modification ICAP requests. 
\begin{DoxyParams}{Parameters}
\item[{\em req}]is a pointer to the current ICAP request object. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
non zero on success zero otherwise 
\end{DoxyReturn}
